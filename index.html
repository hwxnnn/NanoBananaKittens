<!DOCTYPE html>
<html>
<head>
    <title>Cat Meme Gallery</title>
    <style>
        body { font-family: sans-serif; background: #111; color: #fff; text-align: center; }
        h1 { margin-top: 40px; font-size: 2rem; }
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            padding: 20px;
        }
        .gallery img {
            width: 100%;
            height: auto;
            border-radius: 10px;
            transition: transform 0.2s;
        }
        .gallery img:hover { transform: scale(1.05); cursor: pointer; }
        a { text-decoration: none; color: inherit; }
    </style>
</head>
<body>
    <h1>ğŸŒğŸˆğŸˆ by @hwx.nnn</h1>
    <div class="gallery" id="gallery"></div>

    <script>
        // --- CREDENTIALS FILLED ---
        const username = 'hwxnnn';
        const repo = 'NanoBananaKittens';
        const folder = 'processed'; 
        // --------------------------

        const gallery = document.getElementById('gallery');
        const apiUrl = `https://api.github.com/repos/${username}/${repo}/contents/${folder}`;

        fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
                data.forEach(file => {
                    // Check if file is an image
                    if (file.name.match(/\.(jpg|jpeg|png|gif)$/i)) {
                        
                        // 1. Create link to FULL SIZE original
                        const link = document.createElement('a');
                        link.href = file.download_url;
                        link.target = "_blank";

                        // 2. Create optimized THUMBNAIL (via wsrv.nl)
                        const img = document.createElement('img');
                        // w=400: width 400px
                        // q=80: quality 80%
                        // output=webp: converts to fast webp format
                        img.src = `https://wsrv.nl/?url=${encodeURIComponent(file.download_url)}&w=400&q=80&output=webp`;
                        img.loading = "lazy";

                        // 3. Assemble
                        link.appendChild(img);
                        gallery.appendChild(link);
                    }
                });
            })
            .catch(error => {
                console.error('Error:', error);
                gallery.innerHTML = "<p>Error loading images. Check console for details.</p>";
            });
    </script>
</body>
</html>
